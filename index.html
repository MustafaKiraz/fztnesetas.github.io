<!DOCTYPE html>
<html lang="tr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fizyoterapist Neşe Taş - Profesyonel Fizyoterapi</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Quill Rich Text Editor Kütüphanesi -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <style>
        /* Mesh Gradyan Tasarım için Stiller */
        body {
            font-family: 'Poppins', sans-serif;
            color: #374151;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            
            background-color: #fdfdff;
            background-image: 
                radial-gradient(at 5% 10%, hsla(339, 71%, 91%, 0.35) 0px, transparent 50%),
                radial-gradient(at 95% 90%, hsla(174, 100%, 29%, 0.2) 0px, transparent 50%),
                radial-gradient(at 50% 50%, hsla(0, 0%, 100%, 0.5) 0px, transparent 40%);
            background-attachment: fixed;
        }

        /* Renkler */
        :root {
            --primary-color: #009688;
            --primary-color-light: #00bfa5;
            --text-color-dark: #1f2937;
            --text-color-light: #6b7280;
            --bg-light: #ffffff;
            --border-color: #e5e7eb;
        }
        
        /* Animasyonlar */
        .page { display: none; animation: fadeInUp 0.6s ease-in-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Modal Stilleri */
        .modal { display: none; position: fixed; z-index: 201; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content { background-color: var(--bg-light); margin: 10% auto; padding: 2rem; border-radius: 12px; width: 90%; animation: scaleUp 0.4s ease-out; }
        @keyframes scaleUp { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; transition: color 0.2s; }
        .close-button:hover, .close-button:focus { color: var(--text-color-dark); }

        /* Buton Stili */
        .btn { padding: 12px 28px; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; display: inline-block; border: none; text-align: center; }
        .btn-primary { 
            background-image: linear-gradient(to right, var(--primary-color-light) 0%, var(--primary-color) 51%, var(--primary-color-light) 100%);
            background-size: 200% auto;
            color: white; 
        }
        .btn-primary:hover { 
            background-position: right center;
            transform: translateY(-3px); 
            box-shadow: 0 4px 15px rgba(0, 150, 136, 0.25);
        }
        .btn-primary:disabled {
            background-image: none;
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        .btn-secondary { background-color: var(--bg-light); color: var(--primary-color); border: 1px solid var(--border-color); }
        .btn-secondary:hover { background-color: #f3f4f6; border-color: #d1d5db; }

        /* Navigasyon Stili */
        .nav-link { position: relative; color: var(--text-color-light); font-weight: 500; padding: 8px 4px; transition: color 0.3s; }
        .nav-link:hover { color: var(--primary-color); }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -6px; left: 0; background-color: var(--primary-color); transition: width 0.3s ease; }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        .nav-link.active { color: var(--primary-color); }

        /* Form Stilleri */
        .form-input { width: 100%; padding: 14px 16px; border: 1px solid var(--border-color); border-radius: 8px; background-color: #fdfdff; transition: all 0.3s; font-size: 16px; }
        .form-input:focus { outline: none; border-color: var(--primary-color); background-color: white; box-shadow: 0 0 0 3px rgba(0, 150, 136, 0.1); }
        .char-counter { font-size: 0.75rem; color: #6b7280; text-align: right; margin-top: 2px; }
        .char-counter.limit-exceeded { color: #ef4444; font-weight: 600; }
        
        /* Admin Paneli Stili */
        .admin-panel-base { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 200; width: 90%; background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
        #admin-panel, #service-panel { max-width: 700px; }
        #edit-post-panel, #delete-post-panel, #edit-service-panel, #delete-service-panel { max-width: 600px; }

        /* Genel Kart Stili */
        .card { background-color: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 16px; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08); }
        
        .text-primary { color: var(--primary-color); }

        /* Bildirim Kutusu Stili */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            border-radius: 8px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.3s, top 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-weight: 500;
            color: white;
        }
        .notification.show { opacity: 1; top: 40px; }
        
        /* Quill Editör Stilleri */
        #editor-container { background-color: #fdfdff; }
        .ql-toolbar.ql-snow { border-radius: 8px 8px 0 0; border-color: var(--border-color); }
        .ql-container.ql-snow { border-radius: 0 0 8px 8px; border-color: var(--border-color); min-height: 150px; font-size: 16px; }
        .ql-editor { padding: 14px 16px; }
        #admin-panel .ql-toolbar.ql-snow, #admin-panel .ql-container.ql-snow { transition: all 0.3s; }
        #admin-panel .ql-container.ql-snow:focus-within { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(0, 150, 136, 0.1); }
        #admin-panel .ql-toolbar.ql-snow:focus-within { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(0, 150, 136, 0.1); border-bottom-color: var(--border-color);}

        /* WhatsApp Buton Stili */
        .whatsapp-fab {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 60px;
            height: 60px;
            background-color: #25D366;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 100;
            transition: transform 0.2s ease-in-out;
        }
        .whatsapp-fab:hover {
            transform: scale(1.1);
        }

    </style>
</head>
<body>

    <!-- Header & Navigation -->
    <header class="bg-white/70 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200/80">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" class="text-2xl font-bold text-gray-800 page-link">Fizyoterapist Neşe Taş</a>
            <ul class="hidden md:flex items-center space-x-8">
                <li><a href="#home" class="nav-link page-link active">Ana Sayfa</a></li>
                <li><a href="#about" class="nav-link page-link">Hakkımda</a></li>
                <li><a href="#services" class="nav-link page-link">Hizmetler</a></li>
                <li><a href="#blog" class="nav-link page-link">Blog</a></li>
                <li><a href="#contact" class="nav-link page-link">İletişim</a></li>
            </ul>
            <a href="#appointment" class="hidden md:inline-block btn btn-primary page-link">Randevu Al</a>
            <button id="mobile-menu-button" class="md:hidden text-gray-800"><i class="fas fa-bars fa-xl"></i></button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-white/90 backdrop-blur-lg border-t border-gray-200/80">
            <ul class="flex flex-col items-center space-y-4 py-4">
                <li><a href="#home" class="nav-link page-link">Ana Sayfa</a></li>
                <li><a href="#about" class="nav-link page-link">Hakkımda</a></li>
                <li><a href="#services" class="nav-link page-link">Hizmetler</a></li>
                <li><a href="#blog" class="nav-link page-link">Blog</a></li>
                <li><a href="#contact" class="nav-link page-link">İletişim</a></li>
                <li><a href="#appointment" class="btn btn-primary mt-4 page-link">Randevu Al</a></li>
            </ul>
        </div>
    </header>

    <main class="mb-32 md:mb-48">
        <!-- Sayfa İçerikleri -->
        <section id="home" class="page">
            <div class="container mx-auto px-6 py-24 md:py-32 flex flex-col md:flex-row items-center gap-12">
                <div class="md:w-1/2 text-center md:text-left">
                    <span class="font-semibold text-primary uppercase tracking-wider">Fizyoterapi & Sağlıklı Yaşam</span>
                    <h1 class="text-4xl md:text-6xl font-extrabold text-text-color-dark mt-4 mb-6 leading-tight">Hareketin İyileştirici Gücünü Keşfedin.</h1>
                    <p class="text-lg text-text-color-light max-w-xl mx-auto md:mx-0 mb-8">Kişiye özel fizyoterapi çözümleriyle ağrılarınıza veda edin, yaşam kalitenizi artırın.</p>
                    <div class="flex justify-center md:justify-start items-center gap-4">
                        <a href="#appointment" class="btn btn-primary page-link">Randevu Alın</a>
                        <a href="#services" class="btn btn-secondary page-link">Hizmetlerimiz</a>
                    </div>
                </div>
                <div class="md:w-1/2">
                    <div class="card p-2">
                        <img src="https://images.pexels.com/photos/4046655/pexels-photo-4046655.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" class="rounded-xl" alt="Modern bir fizyoterapi kliniği">
                    </div>
                </div>
            </div>
        </section>
        <section id="about" class="page py-24 md:py-32">
             <div class="container mx-auto px-6">
                <div class="text-center mb-16 max-w-3xl mx-auto">
                    <h2 class="text-4xl md:text-5xl font-bold text-text-color-dark">Fizyoterapist Neşe Taş</h2>
                    <p class="text-lg text-text-color-light mt-4">İnsana ve harekete olan tutkumla çıktığım profesyonel yolculuğum.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                     <div class="card p-2">
                         <img src="https://images.pexels.com/photos/3912981/pexels-photo-3912981.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Fizyoterapist Neşe Taş" class="rounded-xl w-full h-full object-cover">
                     </div>
                     <div class="space-y-8">
                         <div class="card p-8"><h3 class="text-3xl font-bold text-text-color-dark mb-4">Deneyimlerim</h3><ul class="space-y-4"><li class="flex items-start"><i class="fas fa-check-circle text-primary mt-1 mr-3"></i><span><strong>[Hastane/Klinik Adı]</strong> - Fizyoterapist (2020-Günümüz)<br><span class="text-sm text-text-color-light">Kas-iskelet sistemi rehabilitasyonu ve sporcu sağlığı.</span></span></li><li class="flex items-start"><i class="fas fa-check-circle text-primary mt-1 mr-3"></i><span><strong>[Hastane/Klinik Adı]</strong> - Stajyer Fizyoterapist (2019-2020)<br><span class="text-sm text-text-color-light">Nörolojik ve ortopedik rehabilitasyon.</span></span></li></ul></div>
                         <div class="card p-8"><h3 class="text-3xl font-bold text-text-color-dark mb-4">Eğitim & Sertifikalar</h3><ul class="space-y-4"><li class="flex items-start"><i class="fas fa-graduation-cap text-primary mt-1 mr-3"></i><span><strong>[Üniversite Adı]</strong> - Lisans</span></li><li class="flex items-start"><i class="fas fa-certificate text-primary mt-1 mr-3"></i><span>Klinik Pilates Eğitmenliği</span></li><li class="flex items-start"><i class="fas fa-certificate text-primary mt-1 mr-3"></i><span>Manuel Terapi Kursu</span></li></ul></div>
                     </div>
                </div>
            </div>
        </section>
        <section id="services" class="page py-24 md:py-32">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-16 max-w-3xl mx-auto"><h2 class="text-4xl md:text-5xl font-bold text-text-color-dark">Hizmetlerimiz</h2><p class="text-lg text-text-color-light mt-4">Sağlığınıza giden yolda size özel, modern ve kanıta dayalı çözümler.</p></div>
                 <div id="services-container" class="flex flex-wrap justify-center gap-8"></div>
             </div>
        </section>
        <section id="blog" class="page py-24 md:py-32">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-16 max-w-3xl mx-auto"><h2 class="text-4xl md:text-5xl font-bold text-text-color-dark">Blog</h2><p class="text-lg text-text-color-light mt-4">Sağlıklı yaşam ve fizyoterapi hakkında güncel, bilgilendirici yazılar.</p></div>
                <div id="blog-container" class="flex flex-wrap justify-center gap-8"></div>
            </div>
        </section>
        <section id="contact" class="page py-24 md:py-32">
             <div class="container mx-auto px-6">
                 <div class="text-center mb-16 max-w-3xl mx-auto"><h2 class="text-4xl md:text-5xl font-bold text-text-color-dark">İletişimde Kalalım</h2><p class="text-lg text-text-color-light mt-4">Sorularınız, önerileriniz veya randevu talepleriniz için bize ulaşmaktan çekinmeyin.</p></div>
                 <div class="card p-8 md:p-12 flex flex-col lg:flex-row gap-12">
                     <div class="lg:w-1/2"><h3 class="text-3xl font-bold mb-6 text-text-color-dark">İletişim Bilgileri</h3><div class="space-y-6 text-lg text-gray-700"><p class="flex items-start"><i class="fas fa-map-marker-alt mt-1 mr-4 text-primary"></i><span>Barbaros, Ak Zambak Sok. Varyap Meridian A Blok No2 kat 39 daire319, 34746 Ataşehir/İstanbul, Türkiye</span></p><p class="flex items-center"><i class="fas fa-phone mr-4 text-primary"></i><a href="tel:+905424528803" class="hover:text-primary">+90 (542) 452 88 03</a></p><p class="flex items-center"><i class="fas fa-envelope mr-4 text-primary"></i><a href="mailto:info@fztnesetas.com" class="hover:text-primary">info@fztnesetas.com</a></p></div></div>
                     <div class="lg:w-1/2 min-h-[300px] lg:min-h-full rounded-xl overflow-hidden"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6022.535625749074!2d29.099185048206603!3d40.99751108540818!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14cac882ab345d37%3A0x9b4a2af9b2b902cf!2sVaryap%20Meridian%20A%20BLOK!5e0!3m2!1str!2sca!4v1750095719858!5m2!1str!2sca" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div>
                 </div>
             </div>
        </section>
        <section id="appointment" class="page py-24 md:py-32">
            <div class="container mx-auto px-6">
                <div class="max-w-2xl mx-auto card p-8 md:p-12">
                     <div class="text-center mb-8"><p class="text-primary font-semibold">Randevu Formu</p><h2 class="text-3xl md:text-4xl font-bold text-text-color-dark mt-1">Harekete Geçmek İçin Formu Doldurun</h2></div>
                     <form id="appointment-form" action="https://formspree.io/f/mqabbvab" method="POST">
                         <div class="space-y-6">
                             <input type="text" name="name" class="form-input" placeholder="Ad ve Soyad" required>
                             <input type="tel" name="phone" class="form-input" placeholder="Telefon Numarası*" required>
                             <input type="email" name="email" class="form-input" placeholder="E-posta" required>
                             <textarea name="message" rows="5" class="form-input" placeholder="Tedavi görmek istediğiniz konu..." required></textarea>
                             <div class="flex items-center">
                                 <input id="consent" name="consent" type="checkbox" required class="h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary">
                                 <label for="consent" class="ml-3 block text-sm text-text-color-light">Verilerin iletişim amacıyla işlenmesine izin veriyorum.*</label>
                             </div>
                             <button type="submit" id="form-submit-btn" class="w-full btn btn-primary text-lg">Randevu Talebi Gönder</button>
                         </div>
                         <p id="form-status" class="text-center mt-4"></p>
                     </form>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Modallar -->
    <div id="blog-modal" class="modal"><div class="modal-content" style="max-width: 800px;"><span class="close-button">&times;</span><h2 id="modal-title" class="text-3xl font-bold text-text-color-dark mb-4"></h2><p id="modal-date" class="text-sm text-text-color-light mb-4"></p><img id="modal-image" src="" alt="Blog görseli" class="w-full h-64 object-cover rounded-xl mb-6"><div id="modal-body" class="text-lg text-gray-700 space-y-4"></div></div></div>
    <div id="password-modal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close-button">&times;</span>
            <h3 class="text-2xl font-bold mb-4 text-center">Admin Girişi</h3>
            <form id="password-form" class="space-y-4">
                <input type="password" id="password-input" class="form-input text-center" placeholder="Şifreyi Girin" required>
                <button type="submit" class="w-full btn btn-primary">Giriş Yap</button>
            </form>
        </div>
    </div>
    <div id="admin-menu-modal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close-button">&times;</span>
            <h3 class="text-2xl font-bold mb-6 text-center">Yönetim Menüsü</h3>
            <div class="space-y-6">
                <div>
                    <h4 class="font-bold text-lg mb-2 text-center text-primary">Blog Yönetimi</h4>
                    <div class="flex flex-col space-y-3">
                        <button id="open-create-panel-btn" class="w-full btn btn-primary">Blog Yazısı Oluştur</button>
                        <button id="open-edit-panel-btn" class="w-full btn btn-secondary">Blog Yazısı Düzenle</button>
                        <button id="open-delete-panel-btn" class="w-full btn btn-secondary !border-red-500 !text-red-500 hover:!bg-red-50">Blog Yazısı Sil</button>
                    </div>
                </div>
                <div class="border-t pt-6">
                     <h4 class="font-bold text-lg mb-2 text-center text-primary">Hizmet Yönetimi</h4>
                    <div class="flex flex-col space-y-3">
                        <button id="open-create-service-panel-btn" class="w-full btn btn-primary">Hizmet Ekle</button>
                        <button id="open-edit-service-panel-btn" class="w-full btn btn-secondary">Hizmet Düzenle</button>
                        <button id="open-delete-service-panel-btn" class="w-full btn btn-secondary !border-red-500 !text-red-500 hover:!bg-red-50">Hizmet Sil</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="edit-post-panel" class="admin-panel-base">
        <span class="close-button">&times;</span>
        <h3 class="text-2xl font-bold mb-4">Yazı Düzenle</h3>
        <div id="edit-post-list" class="max-h-96 overflow-y-auto space-y-3"></div>
    </div>
    <div id="delete-post-panel" class="admin-panel-base">
        <span class="close-button">&times;</span>
        <h3 class="text-2xl font-bold mb-4">Yazı Sil</h3>
        <div id="delete-post-list" class="max-h-96 overflow-y-auto space-y-3"></div>
    </div>
    <div id="edit-service-panel" class="admin-panel-base">
        <span class="close-button">&times;</span>
        <h3 class="text-2xl font-bold mb-4">Hizmet Düzenle</h3>
        <div id="edit-service-list" class="max-h-96 overflow-y-auto space-y-3"></div>
    </div>
    <div id="delete-service-panel" class="admin-panel-base">
        <span class="close-button">&times;</span>
        <h3 class="text-2xl font-bold mb-4">Hizmet Sil</h3>
        <div id="delete-service-list" class="max-h-96 overflow-y-auto space-y-3"></div>
    </div>
    
    <div id="confirmation-modal" class="modal">
        <div class="modal-content" style="max-width: 450px;">
            <h3 id="confirmation-title" class="text-xl font-bold mb-4 text-center">Bu öğeyi silmek istediğinize emin misiniz?</h3>
            <p class="text-center text-text-color-light mb-6">Bu işlem geri alınamaz.</p>
            <div class="flex justify-center gap-4">
                <button id="confirm-delete-btn" class="btn btn-primary !bg-red-600 hover:!bg-red-700 flex-1">Evet, Sil</button>
                <button id="cancel-delete-btn" class="btn btn-secondary flex-1">İptal</button>
            </div>
        </div>
    </div>

    <!-- Blog Oluşturma/Güncelleme Paneli -->
    <div id="admin-panel" class="admin-panel-base">
        <h3 id="admin-panel-title" class="text-2xl font-bold mb-4">Yeni Blog Yazısı Ekle</h3>
        <form id="add-post-form" class="space-y-4">
            <input type="hidden" id="post-id-input">
            <div>
                <input type="text" id="post-title" class="form-input" placeholder="Yazı Başlığı" required maxlength="100" tabindex="1">
                <div id="post-title-counter" class="char-counter"></div>
            </div>
             <div>
                <input type="text" id="post-image" class="form-input" placeholder="Görsel URL" required maxlength="2048" tabindex="2">
                <div id="post-image-counter" class="char-counter"></div>
            </div>
            <div>
                <textarea id="post-summary" class="form-input" rows="3" placeholder="Özet (Kartta görünecek metin)" required maxlength="300" tabindex="3"></textarea>
                <div id="post-summary-counter" class="char-counter"></div>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Yazının Tamamı</label>
                <div id="editor-container" tabindex="4"><div id="post-editor"></div></div>
                <div id="post-editor-counter" class="char-counter"></div>
            </div>
            <div class="flex gap-4">
                <button type="submit" id="form-submit-button" class="btn btn-primary flex-1" tabindex="5">Yazıyı Ekle</button>
                <button type="button" class="btn btn-secondary close-button" tabindex="6">Kapat</button>
            </div>
        </form>
    </div>

     <!-- Hizmet Oluşturma/Güncelleme Paneli -->
    <div id="service-panel" class="admin-panel-base">
        <h3 id="service-panel-title" class="text-2xl font-bold mb-4">Yeni Hizmet Ekle</h3>
        <form id="add-service-form" class="space-y-4">
            <input type="hidden" id="service-id-input">
             <div>
                <input type="text" id="service-title" class="form-input" placeholder="Hizmet Başlığı" required maxlength="50" tabindex="1">
                <div id="service-title-counter" class="char-counter"></div>
            </div>
            <div>
                <input type="text" id="service-icon" class="form-input" placeholder="Font Awesome İkon Sınıfı (örn: fas fa-running)" required maxlength="50" tabindex="2">
                 <div id="service-icon-counter" class="char-counter"></div>
            </div>
            <div>
                <textarea id="service-description" class="form-input" rows="4" placeholder="Hizmet Açıklaması" required maxlength="200" tabindex="3"></textarea>
                 <div id="service-description-counter" class="char-counter"></div>
            </div>
            <div class="flex gap-4">
                <button type="submit" id="service-form-submit-button" class="btn btn-primary flex-1" tabindex="4">Hizmeti Ekle</button>
                <button type="button" class="btn btn-secondary close-button" tabindex="5">Kapat</button>
            </div>
        </form>
    </div>


    <!-- Footer -->
    <footer class="bg-gradient-to-r from-emerald-200 via-pink-100 to-white text-gray-700">
        <div class="container mx-auto px-6 py-20">
             <div class="text-center">
                 <a href="#home" class="text-2xl font-bold text-black page-link">Fizyoterapist Neşe Taş</a>
                 <div class="flex justify-center space-x-6 my-6">
                     <a href="https://www.instagram.com/fztnesetas/" target="_blank" class="hover:text-white transition-colors"><i class="fab fa-instagram fa-lg"></i></a>
                     <a href="https://tr.linkedin.com/in/nese-tas-10ba78199?trk=people-guest_profile-result-card_result-card_full-click" target="_blank" class="hover:text-white transition-colors"><i class="fab fa-linkedin fa-lg"></i></a>
                     <a href="https://www.tiktok.com/@fztnese" target="_blank" class="hover:text-white transition-colors"><i class="fab fa-tiktok fa-lg"></i></a>
                 </div>
             </div>
            <div class="mt-8 border-t border-gray-700 pt-8 text-center"><p>&copy; <span id="year"></span> Fizyoterapist Neşe Taş. Tüm hakları saklıdır.</p><div class="mt-4 max-w-3xl mx-auto"><p class="text-xs font-semibold">YASAL UYARI</p><p class="text-xs text-gray-500">Bu site sağlık hizmeti vermemektedir, kişileri bilgilendirmek ve site sahibi hakkında bilgi vermek amacı ile hazırlanmıştır. Sitedeki bilgiler hastalıkların tanı veya tedavisinde kullanılmak üzere verilmemiştir. Tanı ve tedaviler mutlaka bir hekim tarafından yapılması gereken işlemlerdir.</p></div></div>
        </div>
    </footer>
    
    <a href="https://wa.me/905424528803" target="_blank" class="whatsapp-fab" aria-label="WhatsApp üzerinden iletişime geçin">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, onSnapshot, getDocs, addDoc, updateDoc, doc, deleteDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        
        // --- Firebase Configuration ---
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        // --- App Initialization ---
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        setLogLevel('debug');

        // --- Global Variables ---
        const ADMIN_PASSWORD = 'admin';
        let quill;
        let itemToDelete = { id: null, type: null }; 
        let allBlogPosts = [];
        let allServices = [];
        let postsCollection, servicesCollection;
        
        // --- Element Getters ---
        const getEl = (id) => document.getElementById(id);

        function initializeQuill() {
            if (quill) return;

            quill = new Quill('#post-editor', {
                modules: { 
                    toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline'],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        [{ 'color': [] }, { 'background': [] }],
                        ['clean']
                    ],
                    keyboard: {
                        bindings: {
                            tab: {
                                key: 9,
                                handler: function(range, context) {
                                    getEl('form-submit-button').focus();
                                    return false; // Prevent default tab behavior
                                }
                            }
                        }
                    }
                },
                placeholder: 'Yazınızı buraya yazın...',
                theme: 'snow'
            });

            const quillLimit = 10000;
            const counter = getEl('post-editor-counter');
            quill.on('text-change', () => {
                const length = quill.getLength() - 1; // -1 for newline
                counter.textContent = `${length} / ${quillLimit}`;
                if (length > quillLimit) {
                    counter.classList.add('limit-exceeded');
                    quill.deleteText(quillLimit, length);
                } else {
                    counter.classList.remove('limit-exceeded');
                }
            });
        }

        // --- Firebase Authentication and Setup ---
        async function setupFirebase() {
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
                
                postsCollection = collection(db, `artifacts/${appId}/public/data/posts`);
                servicesCollection = collection(db, `artifacts/${appId}/public/data/services`);

                await seedInitialData(postsCollection, 'initialPosts');
                await seedInitialData(servicesCollection, 'initialServices');
                
                setupPostsListener();
                setupServicesListener();

            } catch (error) {
                console.error("Authentication or setup failed:", error);
            }
        }
        
        // --- Initial Data Seeding ---
        async function seedInitialData(collectionRef, type) {
            const querySnapshot = await getDocs(collectionRef);
            if (querySnapshot.empty) {
                const initialData = {
                    initialPosts: [
                        { title: 'Ofis Çalışanları İçin 5 Basit Egzersiz', date: new Date('2025-06-15T12:00:00Z'), image: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?q=80&w=1820&auto=format&fit=crop', summary: 'Masa başında geçen uzun saatlerin getirdiği ağrıları önlemek için yapabileceğiniz kolay ve etkili hareketler.', fullContent: `<p>...içerik...</p>` },
                    ],
                    initialServices: [
                        { title: 'Fizyoterapi', description: 'Kişiye özel değerlendirme ve tedavi programları ile fonksiyonel kapasitenizi en üst düzeye çıkarıyoruz.', icon: 'fas fa-running' },
                        { title: 'Manuel Terapi', description: 'Sadece ellerle uygulanan özel mobilizasyon ve manipülasyon teknikleri ile ağrılarınıza son veriyoruz.', icon: 'fas fa-hands-helping' },
                    ]
                };
                
                for (const item of initialData[type]) {
                    await addDoc(collectionRef, item);
                }
            }
        }

        // --- Firestore Real-time Listeners ---
        function setupPostsListener() {
            onSnapshot(postsCollection, (snapshot) => {
                allBlogPosts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }))
                                            .sort((a, b) => (b.date?.toDate() || 0) - (a.date?.toDate() || 0));
                renderBlogPosts();
            }, (error) => console.error("Error listening to posts:", error));
        }

        function setupServicesListener() {
            onSnapshot(servicesCollection, (snapshot) => {
                allServices = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                renderServices();
            }, (error) => console.error("Error listening to services:", error));
        }
        
        // --- UI Renderers ---
        function renderBlogPosts() {
            const blogContainer = getEl('blog-container');
            blogContainer.innerHTML = '';
            allBlogPosts.forEach(post => {
                const postDate = post.date?.toDate() || new Date();
                const formattedDate = postDate.toLocaleDateString('tr-TR', { day: 'numeric', month: 'long', year: 'numeric' });
                blogContainer.innerHTML += `
                    <div class="card w-full md:w-1/2 lg:w-[31%] overflow-hidden group">
                        <div class="overflow-hidden h-56"><img src="${post.image}" class="w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-105" alt="${post.title}"></div>
                        <div class="p-6">
                            <p class="text-sm text-primary font-semibold mb-1">${formattedDate}</p>
                            <h3 class="text-xl font-bold text-text-color-dark mb-2">${post.title}</h3>
                            <p class="text-text-color-light text-sm mb-4">${post.summary}</p>
                            <button data-postid="${post.id}" class="read-more-btn font-semibold text-primary hover:text-primary-hover-color transition-colors">Devamını Oku <i class="fas fa-arrow-right ml-1"></i></button>
                        </div>
                    </div>`;
            });
        }

        function renderServices() {
            const servicesContainer = getEl('services-container');
            servicesContainer.innerHTML = '';
            allServices.forEach(service => {
                servicesContainer.innerHTML += `
                     <div class="card w-full md:w-1/2 lg:w-[31%] p-8 text-center border-t-4 border-transparent hover:border-primary">
                        <div class="text-primary text-4xl mb-4"><i class="${service.icon}"></i></div>
                        <h3 class="text-2xl font-bold text-text-color-dark mb-2">${service.title}</h3>
                        <p class="text-text-color-light">${service.description}</p>
                    </div>`;
            });
        }
        
        // --- Page & Navigation Logic ---
        const pageLinks = document.querySelectorAll('.page-link');
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        
        function showPage(pageId) {
            pages.forEach(page => page.style.display = 'none');
            getEl(pageId)?.style.setProperty('display', 'block');
            navLinks.forEach(link => {
                link.classList.toggle('active', link.hash === `#${pageId}`);
            });
            window.scrollTo(0, 0);
        }
        pageLinks.forEach(link => { 
            link.addEventListener('click', (e) => { 
                e.preventDefault(); 
                showPage(link.hash.substring(1)); 
                getEl('mobile-menu').classList.add('hidden');
            }); 
        });
        getEl('mobile-menu-button').addEventListener('click', () => getEl('mobile-menu').classList.toggle('hidden'));
        getEl('year').textContent = new Date().getFullYear();

        // --- Modal & Panel Logic ---
        const modals = document.querySelectorAll('.modal, .admin-panel-base');
        function hideAllModals() {
            modals.forEach(m => m.style.display = 'none');
        }
        document.querySelectorAll('.close-button').forEach(button => {
            button.addEventListener('click', hideAllModals);
        });
        getEl('cancel-delete-btn').addEventListener('click', hideAllModals);

        // --- Admin Authentication ---
        const passwordModal = getEl('password-modal');
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key.toUpperCase() === 'P') {
                e.preventDefault();
                hideAllModals();
                passwordModal.style.display = 'block';
                getEl('password-input').focus();
            }
        });
        getEl('password-form').addEventListener('submit', (e) => {
            e.preventDefault();
            if (getEl('password-input').value === ADMIN_PASSWORD) {
                hideAllModals();
                getEl('admin-menu-modal').style.display = 'block';
            } else {
                showNotification('Hatalı şifre! Erişim reddedildi.', true);
            }
            getEl('password-input').value = '';
        });
        
        // --- Admin Menu Logic ---
        getEl('open-create-panel-btn').addEventListener('click', () => openPostPanel());
        getEl('open-edit-panel-btn').addEventListener('click', () => openListPanel('edit', 'post'));
        getEl('open-delete-panel-btn').addEventListener('click', () => openListPanel('delete', 'post'));
        getEl('open-create-service-panel-btn').addEventListener('click', () => openServicePanel());
        getEl('open-edit-service-panel-btn').addEventListener('click', () => openListPanel('edit', 'service'));
        getEl('open-delete-service-panel-btn').addEventListener('click', () => openListPanel('delete', 'service'));

        // --- Generic Panel/List Openers ---
        function openListPanel(action, type) {
            hideAllModals();
            const panel = getEl(`${action}-${type}-panel`);
            const listContainer = getEl(`${action}-${type}-list`);
            const items = type === 'post' ? allBlogPosts : allServices;
            
            listContainer.innerHTML = '';
            items.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex justify-between items-center p-3 bg-gray-50 rounded-lg';
                const actionText = action === 'edit' ? 'Düzenle' : 'Sil';
                const btnClass = action === 'edit' ? 'btn-primary' : '!border-red-500 !text-red-500 hover:!bg-red-50';
                itemDiv.innerHTML = `
                    <span class="truncate pr-4">${item.title}</span>
                    <button data-id="${item.id}" data-type="${type}" class="${action}-btn btn btn-sm ${btnClass} !px-4 !py-2">${actionText}</button>
                `;
                listContainer.appendChild(itemDiv);
            });
            panel.style.display = 'block';
        }

        // --- Event Delegation for Dynamic Buttons ---
        document.body.addEventListener('click', e => {
            const target = e.target;
            const editBtn = target.closest('.edit-btn');
            const deleteBtn = target.closest('.delete-btn');
            const readMoreBtn = target.closest('.read-more-btn');

            if (editBtn) {
                const { id, type } = editBtn.dataset;
                if (type === 'post') openPostPanel(id);
                if (type === 'service') openServicePanel(id);
            }
            if (deleteBtn) {
                itemToDelete = deleteBtn.dataset;
                getEl('confirmation-modal').style.display = 'block';
            }
            if(readMoreBtn) {
                 const postId = readMoreBtn.dataset.postid;
                 const post = allBlogPosts.find(p => p.id === postId);
                 if (post) {
                    const postDate = post.date?.toDate() || new Date();
                    const formattedDate = postDate.toLocaleDateString('tr-TR', { day: 'numeric', month: 'long', year: 'numeric'});
                    getEl('modal-title').innerText = post.title;
                    getEl('modal-date').innerText = formattedDate;
                    getEl('modal-image').src = post.image;
                    getEl('modal-body').innerHTML = post.fullContent;
                    getEl('blog-modal').style.display = "block";
                }
            }
        });

        // --- Delete Confirmation ---
        getEl('confirm-delete-btn').addEventListener('click', async () => {
            if (itemToDelete.id && itemToDelete.type) {
                const collectionRef = itemToDelete.type === 'post' ? postsCollection : servicesCollection;
                try {
                    await deleteDoc(doc(collectionRef, itemToDelete.id));
                    hideAllModals();
                    showNotification('Öğe başarıyla silindi.', false);
                } catch(error) {
                    showNotification('Öğe silinirken bir hata oluştu.', true);
                }
            }
        });

        // --- Service Panel ---
        function openServicePanel(id = null) {
            hideAllModals();
            getEl('add-service-form').reset();
            const isEditing = !!id;
            getEl('service-panel-title').innerText = isEditing ? 'Hizmet Düzenle' : 'Yeni Hizmet Ekle';
            getEl('service-form-submit-button').innerText = isEditing ? 'Hizmeti Güncelle' : 'Hizmeti Ekle';
            getEl('service-id-input').value = id || '';
            if (isEditing) {
                const service = allServices.find(s => s.id === id);
                getEl('service-title').value = service.title;
                getEl('service-icon').value = service.icon;
                getEl('service-description').value = service.description;
            }
            ['service-title', 'service-icon', 'service-description'].forEach(elId => setupCharCounter(elId));
            getEl('service-panel').style.display = 'block';
        }
        getEl('add-service-form').addEventListener('submit', async e => {
            e.preventDefault();
            const id = getEl('service-id-input').value;
            const data = {
                title: getEl('service-title').value,
                icon: getEl('service-icon').value,
                description: getEl('service-description').value
            };
            try {
                if (id) await updateDoc(doc(servicesCollection, id), data);
                else await addDoc(servicesCollection, data);
                hideAllModals();
                showNotification(`Hizmet başarıyla ${id ? 'güncellendi' : 'eklendi'}.`, false);
            } catch (error) {
                showNotification('Hizmet kaydedilirken hata oluştu.', true);
            }
        });

        // --- Post Panel (Blog) ---
        function openPostPanel(id = null) {
            hideAllModals();
            getEl('add-post-form').reset();
            const isEditing = !!id;
            getEl('admin-panel-title').innerText = isEditing ? 'Blog Yazısını Güncelle' : 'Yeni Blog Yazısı Ekle';
            getEl('form-submit-button').innerText = isEditing ? 'Yazıyı Güncelle' : 'Yazıyı Ekle';
            getEl('post-id-input').value = id || '';
            
            initializeQuill();

            if (isEditing) {
                const post = allBlogPosts.find(p => p.id === id);
                getEl('post-title').value = post.title;
                getEl('post-image').value = post.image;
                getEl('post-summary').value = post.summary;
                quill.root.innerHTML = post.fullContent;
            } else {
                 quill.setText('');
            }
            ['post-title', 'post-image', 'post-summary'].forEach(elId => setupCharCounter(elId));
            quill.on('text-change', () => {
                 const counter = getEl('post-editor-counter');
                 const length = quill.getLength() - 1;
                 const quillLimit = 10000;
                 counter.textContent = `${length} / ${quillLimit}`;
                 counter.classList.toggle('limit-exceeded', length > quillLimit);
            });
            quill.getModule('toolbar').container.parentElement.querySelector('.ql-editor').dispatchEvent(new Event('text-change'));
            getEl('admin-panel').style.display = 'block';
        }
        getEl('add-post-form').addEventListener('submit', async e => {
            e.preventDefault();
            const id = getEl('post-id-input').value;
            const data = {
                title: getEl('post-title').value,
                image: getEl('post-image').value,
                summary: getEl('post-summary').value,
                fullContent: quill.root.innerHTML,
                date: id ? allBlogPosts.find(p => p.id === id).date : serverTimestamp()
            };
             try {
                if (id) await updateDoc(doc(postsCollection, id), data);
                else await addDoc(postsCollection, data);
                hideAllModals();
                showNotification(`Yazı başarıyla ${id ? 'güncellendi' : 'eklendi'}.`, false);
            } catch (error) {
                showNotification('Yazı kaydedilirken hata oluştu.', true);
            }
        });

        // --- Formspree AJAX Submission ---
        getEl('appointment-form').addEventListener('submit', async function (e) {
            e.preventDefault();
            const form = e.target;
            const data = new FormData(form);
            const statusEl = getEl('form-status');
            const submitBtn = getEl('form-submit-btn');
            
            submitBtn.disabled = true;
            submitBtn.textContent = "Gönderiliyor...";
            statusEl.textContent = "";
            try {
                const response = await fetch(form.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });
                if (response.ok) {
                    statusEl.textContent = "Teşekkürler! Randevu talebiniz alınmıştır.";
                    statusEl.className = "text-center mt-4 text-green-600";
                    form.reset();
                } else {
                     const responseData = await response.json();
                     statusEl.textContent = responseData.errors ? responseData.errors.map(error => error.message).join(", ") : "Bir hata oluştu.";
                     statusEl.className = "text-center mt-4 text-red-600";
                }
            } catch (error) {
                statusEl.textContent = "Bir ağ hatası oluştu, lütfen tekrar deneyin.";
                statusEl.className = "text-center mt-4 text-red-600";
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = "Randevu Talebi Gönder";
            }
        });

        // --- Helper Functions ---
        function showNotification(message, isError = false) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.className = 'notification';
            notification.style.backgroundColor = isError ? '#ef4444' : '#22c55e';
            document.body.appendChild(notification);
            setTimeout(() => { notification.classList.add('show'); }, 10);
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => { if(document.body.contains(notification)) document.body.removeChild(notification); }, 300);
            }, 3000);
        }

        function setupCharCounter(elementId) {
            const input = getEl(elementId);
            const counter = getEl(`${elementId}-counter`);
            const maxLength = input.maxLength;
            
            const updateCounter = () => {
                const currentLength = input.value.length;
                counter.textContent = `${currentLength} / ${maxLength}`;
                counter.classList.toggle('limit-exceeded', currentLength > maxLength);
            };
            input.addEventListener('input', updateCounter);
            updateCounter(); // Initial call
        }

        // --- Initial Load ---
        setupFirebase();
        showPage('home');
    </script>
</body>
</html>
